{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector(\".feedback-form\");\n\nconst LOCAL_STORAGE_KEY = \"feedback-form-state\";\n\nconst saveToLocalStorage = (key, value) => {\n    try {\n        localStorage.setItem(key, JSON.stringify(value));\n    } catch (error) {\n        console.error(\"You have a problem with saving data\", error);\n    \n    }\n};\n\nconst getFromLocalStorage = (key) => {\n    const defaultValue = {};\n    try {\n        return JSON.parse(localStorage.getItem(key)) ?? defaultValue;\n    } catch (error) {\n        console.error(\"You have a problem with retriving data\", error);\n        return defaultValue;\n    }\n\n};\n\nlet formData = getFromLocalStorage(LOCAL_STORAGE_KEY) || {};\n\nconst checkLocalStorage = () => {\n    if (!formData || Object.keys(formData).length === 0) return;\n    if (form.elements.email) form.elements.email.value = formData.email || '';\n    if (form.elements.message) form.elements.message.value = formData.message || '';\n  };\n\nform.addEventListener(\"input\", ({ target: {name, value}}) => {\n    formData[name] = value.trim();\n    saveToLocalStorage(LOCAL_STORAGE_KEY, formData);\n});\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n\n    const {email, message} = formData;\n\n    if (!email || !message) {\n        alert(\"Fill all fields, please!\");\n        return;\n    }\n\n    console.log(\"Form submitted:\", formData);\n\n    form.reset();\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n    formData = {};\n});\n\n"],"names":["form","LOCAL_STORAGE_KEY","saveToLocalStorage","key","value","error","getFromLocalStorage","defaultValue","formData","name","event","email","message"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAoB,sBAEpBC,EAAqB,CAACC,EAAKC,IAAU,CACvC,GAAI,CACA,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CAClD,OAAQC,EAAO,CACZ,QAAQ,MAAM,sCAAuCA,CAAK,CAElE,CACA,EAEMC,EAAuBH,GAAQ,CACjC,MAAMI,EAAe,CAAE,EACvB,GAAI,CACA,OAAO,KAAK,MAAM,aAAa,QAAQJ,CAAG,CAAC,GAAKI,CACnD,OAAQF,EAAO,CACZ,eAAQ,MAAM,yCAA0CA,CAAK,EACtDE,CACf,CAEA,EAEA,IAAIC,EAAWF,EAAoBL,CAAiB,GAAK,CAAE,EAQ3DD,EAAK,iBAAiB,QAAS,CAAC,CAAE,OAAQ,CAAC,KAAAS,EAAM,MAAAL,CAAK,CAAC,IAAM,CACzDI,EAASC,CAAI,EAAIL,EAAM,KAAM,EAC7BF,EAAmBD,EAAmBO,CAAQ,CAClD,CAAC,EAEDR,EAAK,iBAAiB,SAAWU,GAAU,CACvCA,EAAM,eAAgB,EAEtB,KAAM,CAAC,MAAAC,EAAO,QAAAC,CAAO,EAAIJ,EAEzB,GAAI,CAACG,GAAS,CAACC,EAAS,CACpB,MAAM,0BAA0B,EAChC,MACR,CAEI,QAAQ,IAAI,kBAAmBJ,CAAQ,EAEvCR,EAAK,MAAO,EACZ,aAAa,WAAWC,CAAiB,EACzCO,EAAW,CAAE,CACjB,CAAC"}